2017-11-28 01:08:36,562 - DEBUG - Parsing arguments.
2017-11-28 01:08:36,563 - DEBUG - Activated debug logging.
2017-11-28 01:08:36,563 - DEBUG - clean_logs: False
2017-11-28 01:08:36,563 - DEBUG - trade_amount: 1.00
2017-11-28 01:08:36,563 - DEBUG - amount_dynamic: True
2017-11-28 01:08:36,563 - DEBUG - trade_proportion_initial: 0.05
2017-11-28 01:08:36,563 - DEBUG - trade_usdt_max: 1.00
2017-11-28 01:08:36,564 - DEBUG - profit_threshold: 0.05
2017-11-28 01:08:36,564 - DEBUG - loop_time: 45
2017-11-28 01:08:36,564 - DEBUG - loop_dynamic: True
2017-11-28 01:08:36,564 - DEBUG - live_trading: True
2017-11-28 01:08:36,564 - DEBUG - csv_logging: True
2017-11-28 01:08:36,565 - DEBUG - telegram_active: True
2017-11-28 01:08:36,565 - DEBUG - mongo_alt: False
2017-11-28 01:08:36,579 - INFO - MongoDB running.
2017-11-28 01:08:36,581 - INFO - Using default MongoDB database "lorenzbot".
2017-11-28 01:08:36,583 - INFO - Dynamic trade amount calculation activated.
2017-11-28 01:08:36,583 - INFO - Dynamic loop time calculation activated. Base loop time set to 45 seconds.
2017-11-28 01:08:36,584 - INFO - CSV logging activated.
2017-11-28 01:08:36,584 - DEBUG - CSV log file path: logs/lorenzbot_log.csv
2017-11-28 01:08:36,584 - INFO - Telegram logging active. Send "/connect" to @lorenzbot_bot to receive alerts.
2017-11-28 01:08:36,587 - INFO - Found existing collection: 11272017_184825
2017-11-28 01:08:36,587 - INFO - Found Telegram config file.
2017-11-28 01:08:36,604 - DEBUG - telegram_token: 411687950:AAFOIzovAmjDoy_0qJeBfdtzTFkM74BI0Fs
2017-11-28 01:08:36,607 - INFO - Found Poloniex config file.
2017-11-28 01:08:36,629 - WARNING - Live trading ENABLED.
2017-11-28 01:08:37,208 - INFO - Current Maker Fee: 0.1500%
2017-11-28 01:08:37,209 - INFO - Current Taker Fee: 0.2500%
2017-11-28 01:08:37,530 - INFO - Balance STR:  358.0199
2017-11-28 01:08:37,530 - INFO - Balance USDT: 3.7392
2017-11-28 01:08:37,532 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:37,532 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:37,532 - INFO - Total STR Bought: 12.9361
2017-11-28 01:08:37,534 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:37,534 - INFO - Total USDT Spent: 0.7511
2017-11-28 01:08:37,535 - INFO - Total Buy Count: 22
2017-11-28 01:08:37,538 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:37,539 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:37,542 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:37,543 - DEBUG - trade_usdt_remaining: 0.24886806
2017-11-28 01:08:37,544 - DEBUG - trade_usdt_remaining: 0.24886806
2017-11-28 01:08:37,544 - INFO - Tradable USDT Remaining: 0.2489
2017-11-28 01:08:37,764 - DEBUG - Reverse lookup (amount) in calc_limit_price().
2017-11-28 01:08:37,765 - DEBUG - actual: 4.37298964
2017-11-28 01:08:37,765 - DEBUG - book_tot: 0.00
2017-11-28 01:08:37,765 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:37,765 - DEBUG - Adding fees to calc_limit_price() return value.
2017-11-28 01:08:37,765 - DEBUG - [buy]price_actual[+FEES]: 4.38392211
2017-11-28 01:08:37,765 - DEBUG - buy_amount_max: 4.38392211
2017-11-28 01:08:37,766 - DEBUG - verify_initial: True
2017-11-28 01:08:37,766 - INFO - Initial balance/trade log amounts verified.
2017-11-28 01:08:37,766 - INFO - ----[LOOP START]----
2017-11-28 01:08:37,766 - DEBUG - Entering base_price calculation.
2017-11-28 01:08:37,768 - DEBUG - db[coll_current].count(): 22
2017-11-28 01:08:37,770 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:37,774 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:37,775 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:37,777 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:37,780 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:37,780 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:37,780 - DEBUG - rate_avg: 0.05806477
2017-11-28 01:08:37,780 - DEBUG - base_price: 0.05806477
2017-11-28 01:08:37,780 - INFO - Base Price: 0.058065
2017-11-28 01:08:37,781 - DEBUG - base_price_target: 0.05791961
2017-11-28 01:08:37,781 - INFO - Base Price Target: 0.057920
2017-11-28 01:08:38,162 - INFO - Balance STR:  358.0199
2017-11-28 01:08:38,162 - INFO - Balance USDT: 3.7392
2017-11-28 01:08:38,164 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:38,164 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:38,164 - INFO - Total STR Bought: 12.9361
2017-11-28 01:08:38,166 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:38,166 - INFO - Total USDT Spent: 0.7511
2017-11-28 01:08:38,167 - INFO - Total Buy Count: 22
2017-11-28 01:08:38,168 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:38,168 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:38,169 - DEBUG - trade_total[spent]: 0.75113194
2017-11-28 01:08:38,170 - DEBUG - trade_usdt_remaining: 0.24886806
2017-11-28 01:08:38,170 - DEBUG - trade_usdt_remaining: 0.24886806
2017-11-28 01:08:38,170 - INFO - Tradable USDT Remaining: 0.2489
2017-11-28 01:08:38,453 - DEBUG - Reverse lookup (amount) in calc_limit_price().
2017-11-28 01:08:38,453 - DEBUG - actual: 4.37298964
2017-11-28 01:08:38,453 - DEBUG - book_tot: 0.00
2017-11-28 01:08:38,453 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:38,454 - DEBUG - Adding fees to calc_limit_price() return value.
2017-11-28 01:08:38,454 - DEBUG - [buy]price_actual[+FEES]: 4.38392211
2017-11-28 01:08:38,454 - DEBUG - buy_amount_max: 4.38392211
2017-11-28 01:08:38,454 - DEBUG - trade_check_ready: True
2017-11-28 01:08:38,687 - DEBUG - Regular lookup (price) in calc_limit_price().
2017-11-28 01:08:38,688 - DEBUG - actual: 0.05691028
2017-11-28 01:08:38,688 - DEBUG - book_tot: 10316.23
2017-11-28 01:08:38,688 - DEBUG - actual: 0.05691028
2017-11-28 01:08:38,688 - DEBUG - book_tot: 10316.23
2017-11-28 01:08:38,688 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:38,688 - DEBUG - Adding fees to calc_limit_price() return value.
2017-11-28 01:08:38,688 - DEBUG - [buy]price_actual[+FEES]: 0.05705256
2017-11-28 01:08:38,689 - DEBUG - diff: 0.014970
2017-11-28 01:08:38,689 - INFO - Price Difference from Base: 1.4970%
2017-11-28 01:08:38,689 - DEBUG - Calculating trade amount.
2017-11-28 01:08:38,689 - DEBUG - diff > 0
2017-11-28 01:08:38,689 - DEBUG - trade_proportion_low: 0.05
2017-11-28 01:08:38,690 - DEBUG - trade_proportion_high: 0.50
2017-11-28 01:08:38,690 - DEBUG - trade_proportion_adj: 0.06
2017-11-28 01:08:38,690 - DEBUG - trade_usdt_remaining: 0.25
2017-11-28 01:08:38,692 - DEBUG - [DYNAMIC]amount_usdt: 0.01411989
2017-11-28 01:08:38,937 - DEBUG - Reverse lookup (amount) in calc_limit_price().
2017-11-28 01:08:38,937 - DEBUG - actual: 0.24810792
2017-11-28 01:08:38,938 - DEBUG - book_tot: 0.00
2017-11-28 01:08:38,938 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:38,938 - DEBUG - [DYNAMIC]amount: 0.24810792
2017-11-28 01:08:38,938 - DEBUG - [DYNAMIC] amount: 0.24810792
2017-11-28 01:08:38,938 - DEBUG - buy_amount_current: 0.24810792
2017-11-28 01:08:38,939 - INFO - Current Buy Amount: 0.2481
2017-11-28 01:08:39,197 - DEBUG - Regular lookup (price) in calc_limit_price().
2017-11-28 01:08:39,197 - DEBUG - actual: 0.05691028
2017-11-28 01:08:39,198 - DEBUG - book_tot: 10316.23
2017-11-28 01:08:39,198 - DEBUG - actual: 0.05691028
2017-11-28 01:08:39,198 - DEBUG - book_tot: 10316.23
2017-11-28 01:08:39,198 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:39,198 - DEBUG - Adding fees to calc_limit_price() return value.
2017-11-28 01:08:39,199 - DEBUG - [buy]price_actual[+FEES]: 0.05705256
2017-11-28 01:08:39,199 - DEBUG - low_ask_actual: 0.05705256
2017-11-28 01:08:39,199 - INFO - Low Ask (Actual): 0.0571
2017-11-28 01:08:39,201 - DEBUG - agg: [{'_id': None, 'total_bought': 12.9361050042}]
2017-11-28 01:08:39,201 - DEBUG - trade_total[bought]: 12.93610500
2017-11-28 01:08:39,202 - DEBUG - sell_amount_current: 12.93610500
2017-11-28 01:08:39,202 - INFO - Current Sell Amount: 12.9361
2017-11-28 01:08:39,331 - DEBUG - Regular lookup (price) in calc_limit_price().
2017-11-28 01:08:39,331 - DEBUG - actual: 0.05670000
2017-11-28 01:08:39,332 - DEBUG - book_tot: 3595.37
2017-11-28 01:08:39,332 - DEBUG - actual: 0.05670000
2017-11-28 01:08:39,332 - DEBUG - book_tot: 3595.37
2017-11-28 01:08:39,332 - DEBUG - calc_limit_price() successful within limits (depth=40).
2017-11-28 01:08:39,332 - DEBUG - Adding fees to calc_limit_price() return value.
2017-11-28 01:08:39,333 - DEBUG - [sell]price_actual[+FEES]: 0.05655825
2017-11-28 01:08:39,333 - DEBUG - high_bid_actual: 0.05655825
2017-11-28 01:08:39,333 - INFO - High Bid (Actual): 0.0566
2017-11-28 01:08:39,333 - DEBUG - sell_price_target: 0.06111317
2017-11-28 01:08:39,334 - INFO - Sell Target: 0.0611
2017-11-28 01:08:39,334 - INFO - TRADE CONDITIONS MET --> BUYING
2017-11-28 01:08:39,761 - DEBUG - [BUY] trade_response: {'orderNumber': '40230555299', 'resultingTrades': [{'amount': '0.24810791', 'date': '2017-11-28 07:08:38', 'rate': '0.05691028', 'total': '0.01411989', 'tradeID': '1869349', 'type': 'buy'}], 'amountUnfilled': '0.00000000'}
2017-11-28 01:08:40,031 - DEBUG - returnOrderTrades: [{'globalTradeID': 271683751, 'tradeID': 1869349, 'currencyPair': 'USDT_STR', 'type': 'buy', 'rate': '0.05691028', 'amount': '0.24810791', 'total': '0.01411989', 'fee': '0.00250000', 'date': '2017-11-28 07:08:38'}]
2017-11-28 01:08:40,032 - DEBUG - trade_date: 2017-11-28 07:08:38
2017-11-28 01:08:40,032 - DEBUG - len(order_trades): 1
2017-11-28 01:08:40,032 - DEBUG - len(order_list): 1
2017-11-28 01:08:40,032 - DEBUG - order_list: [[Decimal('0.2474876402250000'), Decimal('0.05691028')]]
2017-11-28 01:08:40,033 - DEBUG - rate_calc_total: 0.01408459
2017-11-28 01:08:40,033 - DEBUG - amount_total: 0.24748764
2017-11-28 01:08:40,033 - DEBUG - order_average_rate: 0.05691028
2017-11-28 01:08:40,033 - DEBUG - [BUY] order_details: {'date': '2017-11-28 07:08:38', 'amount': Decimal('0.2474876402250000'), 'rate': Decimal('0.05691028')}
2017-11-28 01:08:40,035 - DEBUG - [BUY] mongo_response: <pymongo.results.InsertOneResult object at 0x10a110f48>
2017-11-28 01:08:40,035 - INFO - Buy logged to MongoDB database collection 11272017_184825
2017-11-28 01:08:40,035 - DEBUG - Entering base_price calculation.
2017-11-28 01:08:40,037 - DEBUG - db[coll_current].count(): 23
2017-11-28 01:08:40,041 - DEBUG - trade_total[spent]: 0.76521653
2017-11-28 01:08:40,048 - DEBUG - agg: [{'_id': None, 'total_bought': 13.183592644425}]
2017-11-28 01:08:40,048 - DEBUG - trade_total[bought]: 13.18359264
2017-11-28 01:08:40,053 - DEBUG - trade_total[spent]: 0.76521653
2017-11-28 01:08:40,056 - DEBUG - agg: [{'_id': None, 'total_bought': 13.183592644425}]
2017-11-28 01:08:40,056 - DEBUG - trade_total[bought]: 13.18359264
2017-11-28 01:08:40,056 - DEBUG - rate_avg: 0.05804310
2017-11-28 01:08:40,056 - DEBUG - csv_list: ['2017-11-28 07:08:38', 'buy', '0.24748764', '0.05691028', '0.00000000', '0.05804310']
2017-11-28 01:08:40,057 - INFO - Logging trade details to csv file.
2017-11-28 01:08:40,091 - INFO - No users connected to Telegram. Skipping alert.
2017-11-28 01:08:40,092 - DEBUG - diff: 0.017432
2017-11-28 01:08:40,092 - INFO - Price Difference from Base: 1.7432%
2017-11-28 01:08:40,092 - DEBUG - Calculating loop time.
2017-11-28 01:08:40,092 - DEBUG - 0 < diff < 1
2017-11-28 01:08:40,094 - DEBUG - lt: 44.32
2017-11-28 01:08:40,094 - INFO - Trade loop complete. Sleeping for 44.32 seconds.
2017-11-28 01:08:40,094 - INFO - ----[LOOP END]----
2017-11-28 01:08:46,952 - DEBUG - [CONNECT] chat_id: 382606465
2017-11-28 01:08:46,952 - INFO - Telegram user connected: 382606465
2017-11-28 01:08:46,952 - DEBUG - [CONNECT] telegram_message: Subscribed to Lorenzbot alerts.
2017-11-28 01:08:49,366 - DEBUG - [STATUS] chat_id: 382606465
2017-11-28 01:08:49,366 - INFO - Telegram user requesting status: 382606465
2017-11-28 01:08:49,366 - DEBUG - Access confirmed for requesting user.
2017-11-28 01:08:49,367 - DEBUG - Entering base_price calculation.
2017-11-28 01:08:49,371 - DEBUG - db[coll_current].count(): 23
2017-11-28 01:08:49,374 - DEBUG - trade_total[spent]: 0.76521653
2017-11-28 01:08:49,375 - DEBUG - agg: [{'_id': None, 'total_bought': 13.183592644425}]
2017-11-28 01:08:49,376 - DEBUG - trade_total[bought]: 13.18359264
2017-11-28 01:08:49,377 - DEBUG - trade_total[spent]: 0.76521653
2017-11-28 01:08:49,379 - DEBUG - agg: [{'_id': None, 'total_bought': 13.183592644425}]
2017-11-28 01:08:49,379 - DEBUG - trade_total[bought]: 13.18359264
2017-11-28 01:08:49,379 - DEBUG - rate_avg: 0.05804310
2017-11-28 01:08:49,381 - DEBUG - trade_total[spent]: 0.76521653
2017-11-28 01:08:49,382 - DEBUG - agg: [{'_id': None, 'total_bought': 13.183592644425}]
2017-11-28 01:08:49,382 - DEBUG - trade_total[bought]: 13.18359264
2017-11-28 01:08:49,382 - DEBUG - [STATUS] telegram_message: Bought 13.1836 STR for $0.7652 at an average rate of $0.0580.
2017-11-28 01:08:52,925 - DEBUG - [PROFIT] chat_id: 382606465
2017-11-28 01:08:52,925 - INFO - Telegram user requesting profit calculation: 382606465
2017-11-28 01:08:52,925 - DEBUG - Access confirmed for requesting user.
2017-11-28 01:08:52,925 - DEBUG - Reading csv file.
2017-11-28 01:08:52,926 - DEBUG - Calculating profit from csv data.
2017-11-28 01:08:52,926 - DEBUG - bought_amount: 12.33825079
2017-11-28 01:08:52,926 - DEBUG - spent_amount: 0.71534153
2017-11-28 01:08:52,927 - DEBUG - buy_count: 22
2017-11-28 01:08:52,927 - DEBUG - sold_amount: 0.00000000
2017-11-28 01:08:52,927 - DEBUG - gain_amount: 0.00000000
2017-11-28 01:08:52,927 - DEBUG - sell_count: 0
2017-11-28 01:08:52,927 - DEBUG - rate_avg: 0.05797755
2017-11-28 01:08:52,928 - DEBUG - profit: -1.00000000
2017-11-28 01:08:52,928 - DEBUG - trade_profit_return: {'profit': Decimal('-1')}
2017-11-28 01:08:52,928 - DEBUG - [CSVPROFIT] trade_profit: -1.00000000
2017-11-28 01:09:14,688 - INFO - Exit signal received.
2017-11-28 01:09:14,689 - INFO - Mongo write errors: 0
2017-11-28 01:09:14,690 - INFO - Buy trades skipped: 0
2017-11-28 01:09:14,690 - INFO - Buy trades failed: 0
2017-11-28 01:09:14,690 - INFO - Sell trades skipped: 0
2017-11-28 01:09:14,690 - INFO - Sell trades failed: 0
2017-11-28 01:09:14,690 - INFO - CSV write errors: 0
